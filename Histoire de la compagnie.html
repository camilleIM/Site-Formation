<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Histoire de la compagnie</title>

    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="app">
      <!-- Sidebar -->
      <nav id="sidebar-container"></nav>

      <!-- Contenu principal -->
      <main class="main">
        <div class="topbar">
          <div class="breadcrumbs">Histoire de la compagnie</div>
          <div class="actions">
            <!-- <button class="btn">CrÃ©er note</button> -->
            <!-- <button class="btn">Exporter PDF</button> -->
            <button id="exportPdfBtn">ðŸ“„ Exporter en PDF</button>
          </div>
        </div>

        <main class="main">
          <div class="texte">
            <h1>Histoire de la compagnie</h1>
            <h2>Depuis 1984</h2>
            <p>
              Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nemo
              sunt quisquam consequatur velit odio maxime reprehenderit corporis
              enim magnam nam adipisci nobis neque aliquam repellendus,
              perspiciatis nostrum libero veniam, veritatis alias magni
              voluptatem doloremque temporibus hic? Ut facilis labore dolorum
              magnam itaque ducimus amet maxime expedita, qui vero, quos
              pariatur repellendus sapiente! Nisi, esse accusamus at tenetur
              deserunt excepturi consectetur, necessitatibus odio laudantium
              rerum temporibus voluptatum placeat dolorem asperiores ipsum
              sequi? Cumque non nostrum quibusdam eligendi iusto maxime nobis
              saepe?
            </p>

            <div class="image-wrapper">
              <img src="images/Alcyon.png" alt="" />
            </div>
            <p>
              Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nemo
              sunt quisquam consequatur velit odio maxime reprehenderit corporis
              enim magnam nam adipisci nobis neque aliquam repellendus,
              perspiciatis nostrum libero veniam, veritatis alias magni
              voluptatem doloremque temporibus hic? Ut facilis labore dolorum
              magnam itaque ducimus amet maxime expedita, qui vero, quos
              pariatur repellendus sapiente! Nisi, esse accusamus at tenetur
              deserunt excepturi consectetur, necessitatibus odio laudantium
              rerum temporibus voluptatum placeat dolorem asperiores ipsum
              sequi? Cumque non nostrum quibusdam eligendi iusto maxime nobis
              saepe?
            </p>

            <div class="video-container">
              <iframe
                src="https://www.youtube.com/embed/3LWeMPlq0R4"
                title="YouTube video player"
                allow="
                  accelerometer;
                  autoplay;
                  clipboard-write;
                  encrypted-media;
                  gyroscope;
                  picture-in-picture;
                  web-share;
                "
                allowfullscreen
              >
              </iframe>
            </div>
          </div>
        </main>
        <footer>Â© Groupe Portance â€” Documentation interne</footer>
      </main>
    </div>

    <!-- Chargement de la sidebar -->
    <script>
      fetch("sidebar.html")
        .then((response) => response.text())
        .then((html) => {
          document.getElementById("sidebar-container").innerHTML = html;
          initCollapsers();
        });

      function initCollapsers() {
        document.querySelectorAll(".collapser").forEach((btn) => {
          btn.addEventListener("click", () => {
            const target = document.getElementById(btn.dataset.target);
            const chev = btn.querySelector(".chev");

            document.querySelectorAll(".submenu").forEach((menu) => {
              if (menu !== target) {
                menu.hidden = true;
                menu.classList.remove("open");
                menu.parentElement
                  .querySelector(".chev")
                  ?.classList.remove("open");
              }
            });

            target.hidden = !target.hidden;
            target.classList.toggle("open");
            chev.classList.toggle("open");
          });
        });
      }
    </script>

    <!-- Export PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
      document.getElementById("exportPdfBtn").addEventListener("click", () => {
        html2pdf()
          .from(document.querySelector("main"))
          .set({
            margin: 0.5,
            filename: document.title.replace(/\s+/g, "_") + ".pdf",
            html2canvas: { scale: 2 },
            jsPDF: { format: "a4", orientation: "portrait" },
          })
          .save();
      });
    </script>
  </body>
</html>
